{
    "name": "Nebula scale-up-and-down plan",
    "concurrency": 10,
    "rolling_table": true,
    "instances": [
        {
            "host":"192.168.8.6",
            "install_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro",
            "conf_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro/etc/nebula-graphd.conf",
            "type": "graphd",
            "user": "pandasheep.yue"
        },
        {
            "host":"192.168.8.6",
            "install_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro",
            "conf_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro/etc/nebula-metad.conf",
            "type": "metad",
            "user": "pandasheep.yue"
        },
        {
            "host":"192.168.8.6",
            "install_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro",
            "conf_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro/etc/nebula-storaged-1.conf",
            "type": "storaged",
            "user": "pandasheep.yue"
        },
        {
            "host":"192.168.8.6",
            "install_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro",
            "conf_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro/etc/nebula-storaged-2.conf",
            "type": "storaged",
            "user": "pandasheep.yue"
        },
        {
            "host":"192.168.8.6",
            "install_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro",
            "conf_dir":"/home/pandasheep.yue/nebula-2.0/nebula-chaos/pro/etc/nebula-storaged-3.conf",
            "type": "storaged",
            "user": "pandasheep.yue"
        }
    ],
    "actions" : [
        {
            "type": "StartAction",
            "inst_index": 0,
            "depends": [2, 3, 4]
        },
        {
            "type": "StartAction",
            "inst_index": 1,
            "depends": []
        },
        {
            "type": "StartAction",
            "inst_index": 2,
            "depends": [1]
        },
        {
            "type": "StartAction",
            "inst_index": 3,
            "depends": [1]
        },
        {
            "type": "StartAction",
            "inst_index": 4,
            "depends": [1]
        },
        {
            "type": "WaitAction",
            "wait_time_ms": 15000,
            "depends": [0]
        },
        {
            "type": "ClientConnectAction",
            "depends": [5]
        },
        {
            "type": "CreateSpaceAction",
            "space_name": "check_leader_stability_in_compaction",
            "replica": 3,
            "parts": 10,
            "depends": [6]
        },
        {
            "type": "UseSpaceAction",
            "space_name": "check_leader_stability_in_compaction",
            "depends": [7]
        },
        {
            "type": "CreateSchemaAction",
            "name": "t",
            "props": [
                {"name": "name", "type": "string"}
            ],
            "edge_or_tag": false,
            "depends": [8]
        },
        {
            "type": "WaitAction",
            "wait_time_ms": 10000,
            "depends": [9]
        },
        {
            "type": "BalanceLeaderAction",
            "depends": [10]
        },
        {
            "type": "CheckLeaderDistributionAction",
            "result_var_name": "leaderDis1",
            "space": "check_leader_stability_in_compaction",
            "depends": [11]
        },
        {
            "type": "WriteCircleStringAction",
            "tag": "t",
            "col": "name",
            "total_rows": 7000000,
            "depends": [12]
        },
        {
            "type": "WriteCircleStringAction",
            "tag": "t",
            "col": "name",
            "total_rows": 7000000,
            "depends": [12]
        },
        {
            "type": "WriteCircleStringAction",
            "tag": "t",
            "col": "name",
            "total_rows": 7000000,
            "depends": [12]
        },
        {
            "type": "WaitAction",
            "wait_time_ms": 120000,
            "depends": [13, 14, 15]
        },
        {
            "type": "CheckWalttlFileAction",
            "depends": [16]
        },
        {
            "type": "OpenCompactionAction",
            "depends": [17]
        },
        {
            "type": "WaitAction",
            "wait_time_ms": 2000,
            "depends": [18]
        },
        {
            "type": "CheckLeaderDistributionAction",
            "result_var_name": "leaderDis2",
            "space": "check_leader_stability_in_compaction",
            "depends": [19]
        },
        {
            "type": "CompareLeaderDistributionAction",
            "para1": "$leaderDis1",
            "para2": "$leaderDis2",
            "depends": [20]
        },
        {
            "type": "StopAction",
            "inst_index": 0,
            "depends": [21]
        },
        {
            "type": "StopAction",
            "inst_index": 1,
            "depends": [21]
        },
        {
            "type": "StopAction",
            "inst_index": 2,
            "depends": [21]
        },
        {
            "type": "StopAction",
            "inst_index": 3,
            "depends": [21]
        },
        {
            "type": "StopAction",
            "inst_index": 4,
            "depends": [21]
        }
    ]
}
