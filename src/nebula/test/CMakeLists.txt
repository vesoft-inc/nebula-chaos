nebula_add_test(
    NAME
        nebula_instance_test
    SOURCES
        NebulaInstanceTest.cpp
    OBJECTS
        $<TARGET_OBJECTS:nebula_instance_obj>
        $<TARGET_OBJECTS:ssh_helper_obj>
        $<TARGET_OBJECTS:base_obj>
    LIBRARIES
        gtest
)


nebula_add_executable(
    NAME
        nebula_plan_test
    SOURCES
        NebulaPlanTest.cpp
    OBJECTS
        $<TARGET_OBJECTS:nebula_client_obj>
        $<TARGET_OBJECTS:graph_thrift_obj>
        $<TARGET_OBJECTS:nebula_plan_obj>
        $<TARGET_OBJECTS:nebula_instance_obj>
        $<TARGET_OBJECTS:actions_obj>
        $<TARGET_OBJECTS:ssh_helper_obj>
        $<TARGET_OBJECTS:base_obj>
    LIBRARIES
        gtest
        ${THRIFT_LIBRARIES}
)
